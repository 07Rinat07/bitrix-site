<? namespace Bitrix\Main;$GLOBALS['____583153425']= array(base64_decode('Zm'.'lsZV9leGlzdH'.'M='),base64_decode(''.'c'.'3'.'Ry'.'dG91'.'cH'.'Blc'.'g=='),base64_decode('bWQ'.'1'),base64_decode(''.'bWQ'.'1'),base64_decode('aW5fYXJyYXk='),base64_decode('ZGV'.'m'.'aW'.'5'.'lZA=='),base64_decode('Z'.'GV'.'maW5lZA=='),base64_decode('ZGVma'.'W5'.'lZA=='),base64_decode('ZmlsZ'.'V9leGlzd'.'HM='),base64_decode('Zm'.'lsZV9le'.'GlzdHM='),base64_decode('ZmlsZV'.'9leG'.'lzdHM='),base64_decode('ZmlsZV9leGlzdHM'.'='));if(!function_exists(__NAMESPACE__.'\\___1104456133')){function ___1104456133($_110824045){static $_2054745020= false; if($_2054745020 == false) $_2054745020=array('L2JpdH'.'J'.'peC9saWNlbnNlX2tleS5'.'waH'.'A=','','','REVNTw='.'=','REVNTw='.'=','Q'.'klUUk'.'lY','TElDRU5DR'.'Q==','REVNT'.'w==','L'.'2tl'.'eV91c'.'GR'.'hdG'.'Uu'.'cGhwP2xpY2'.'Vu'.'c2Vfa2V5'.'PQ='.'=','Jn'.'RvY'.'mFz'.'a2V0P'.'Xkm'.'bGFuZz'.'0=','cnU=','a3o=','Ynk=','aH'.'R0c'.'HM6Ly9k'.'Z'.'XYu'.'MWM'.'tYm'.'l0c'.'ml4'.'LnJ1L2xlYXJuaW5nL2'.'N'.'v'.'dXJzZS9p'.'b'.'mRleC5waH'.'A/Q09VUlNFX0'.'l'.'EPTE'.'zNSZM'.'RVNTT05'.'fSUQ9Mj'.'U3M'.'j'.'A=','aHR0'.'cH'.'M'.'6L'.'y'.'90'.'cmFpbmlu'.'Z'.'y5ia'.'XRyaXgyN'.'C5j'.'b'.'20vc3VwcG9ydC90cmFpbmluZy9j'.'b3Vyc'.'2UvaW5kZXguc'.'G'.'hwP'.'0'.'NPV'.'VJTRV9JRD0xNzgmTEV'.'TU'.'09OX0l'.'EPTI1OTMyJkx'.'FU1NPTl9QQVRIPTE3NTIwLjE3NTY'.'yLjI1OTMwLjI'.'1OTMy','c'.'nU'.'=','REVNTw='.'=','WQ==','V'.'E'.'lNRUxJ'.'TUl'.'UX0VE'.'SV'.'RJT04=','W'.'Q==','RU5DT0R'.'F','W'.'Q='.'=','U2l0ZUV4'.'cGlyZURhdG'.'U=','Yml'.'0'.'cml'.'4M'.'j'.'Q=',''.'bWFpb'.'g==','flBBU'.'kFNX0'.'NMSUVOVF'.'9'.'MQU5H','a'.'W'.'50cmFuZX'.'Q=','ZW4=','cnU=','bWFp'.'bg==','dmVuZG'.'9'.'y','dWFf'.'Ym'.'l0cml4X3Bv'.'cnRhb'.'A='.'=','dWE=','Yml0cml4X3B'.'vcn'.'RhbA==',''.'ZW4=','MWNf'.'Yml0cml4X3B'.'vcnRhbA='.'=','c'.'nU=','L2JpdHJ'.'peC9t'.'b2R1bGVz'.'L2'.'1haW4vbGFuZy'.'91YQ='.'=',''.'dWE=','L2JpdHJp'.'eC'.'9tb2R1'.'bGVzL'.'21haW4vbGF'.'uZy9'.'ieQ'.'='.'=',''.'Ynk=','L2'.'J'.'pdHJ'.'peC9tb2R'.'1b'.'GVz'.'L21haW'.'4vbGF'.'uZ'.'y9r'.'eg'.'==','a3'.'o=','L2JpdHJ'.'peC9'.'tb'.'2R1bGVz'.'L21h'.'aW4vbGFuZ'.'y9ydQ==','cn'.'U=','bWFp'.'bg==','flB'.'BUkFNX1BBUlRORVJfSUQ'.'=',''.'bWFpb'.'g='.'=',''.'U'.'EFSQU1'.'f'.'TU'.'FYX1V'.'TRV'.'JT','bWFp'.'bg==','fkNPVU5UX0VY'.'VFJB','Tg'.'='.'=',''.'WQ='.'=',''.'ZXh0cmF'.'uZXQ=','QU5EIFUuT'.'E'.'FTVF9'.'MT0d'.'JTiA'.'+IA==','QU5EIFUuTEFTV'.'F9M'.'T0dJ'.'TiBJU'.'yBOT1QgTlVMTA==','aW50cmF'.'uZXQ=','CgkJ'.'CQlTRUxFQ1QgQ'.'09VTlQoRElTVElOQ1QgVS5JR'.'CkKCQkJCUZS'.'T0'.'0'.'K'.'CQkJCQliX3V'.'zZ'.'XIgVQoJCQkJCUlO'.'TkVSI'.'EpPSU4gYl'.'91c'.'2'.'Vy'.'X2Z'.'pZWxkIEYg'.'T04g'.'Ri5'.'FT'.'lRJV'.'FlfSUQgPSAnVVNFUi'.'cg'.'QU5E'.'IEYuRklFTERfT'.'kFNRSA9I'.'CdVRl9ERVB'.'BUl'.'RNR'.'U5UJwoJC'.'Q'.'kJ'.'CUlOTkVSIEp'.'PSU4gYl91'.'d'.'G1fdXNlciBVRiB'.'PTgoJC'.'Q'.'kJCQlVRi5G'.'SUVMRF9JRCA9IE'.'YuSUQKCQkJCQk'.'JQU5EIFVGLl'.'ZBTFV'.'FX0l'.'E'.'ID0g'.'VS5JRAoJ'.'CQkJCQlB'.'Tk'.'Q'.'gVUYuVkFMVUV'.'fSU5UID4'.'gMAo'.'JCQkJV0hFUkUgVS'.'5BQ1'.'RJVkUgPS'.'AnWScKCQkJCQk=','CgkJC'.'Q==','Z'.'Xh0cmFuZXQ=','Z'.'Xh0cm'.'F'.'uZXRfZ3'.'Jvd'.'XA=','Cg'.'kJCQ'.'kJCVNFT'.'E'.'VDVCBDT1'.'V'.'OVCg'.'xKQo'.'JCQk'.'JCQlGUk'.'9NCgkJC'.'QkJ'.'CQ'.'l'.'iX3'.'VzZ'.'X'.'I'.'gVQoJ'.'C'.'QkJCQkJSU'.'5OR'.'VI'.'gSk'.'9JTi'.'BiX3Vz'.'ZXJ'.'fZ3'.'JvdXA'.'gVUcgT04gV'.'U'.'cuVVNFUl9JRCA9IFUuSUQ'.'gQU5EI'.'FVH'.'LkdST1V'.'QX0'.'l'.'EID'.'0g','C'.'gkJCQk'.'JCQlMR'.'UZ'.'UI'.'EpPSU4gK'.'AoJCQkJCQk'.'JC'.'VNF'.'T'.'EVDVC'.'BVRi5WQUx'.'V'.'RV9JRCAKC'.'Q'.'kJCQkJCQlGUk9N'.'IAoJCQ'.'kJCQkJCQliX3VzZ'.'XJfZm'.'llbGQgRgo'.'JCQ'.'kJCQ'.'kJCQl'.'JTk5FU'.'iBKT0lO'.'I'.'GJfdXRt'.'X3V'.'zZXI'.'gVUY'.'gT04gVUYuRklFTERfSUQ'.'g'.'PSBG'.'Lkl'.'EIEFORCB'.'VRi'.'5W'.'QU'.'xVRV9JTlQg'.'Pi'.'A'.'wCgk'.'JCQkJCQk'.'JV0hFUkUg'.'Ri5FTlRJ'.'VFlfSUQgPSAnV'.'V'.'NFU'.'icgQ'.'U5EIEYuRklFTERfTkFNRSA'.'9ICdVRl9ERVBBUl'.'RNR'.'U5U'.'JwoJCQkJCQkJK'.'S'.'B'.'E'.'IE9OI'.'EQuVkFM'.'VUVf'.'S'.'UQgPSBVLklECgkJ'.'CQkJ'.'CVdI'.'RVJF'.'IFU'.'uQUNUSVZFID0gJ1kn'.'Cgk'.'JC'.'QkJ'.'CQ'.'k=','Cg'.'k'.'JCQkJC'.'QlBTkQg'.'RC5WQUx'.'VRV9JRC'.'BJ'.'UyB'.'OVU'.'xMC'.'gkJ'.'C'.'QkJ');return base64_decode($_2054745020[$_110824045]);}}; use Bitrix\Main\Config\Option; use Bitrix\Main\Type\Date; final class License{ private?string $_271680456= null; private const DOMAINS_STORE_LICENSE=[ 'ru' => 'https://util.1c-bitrix.ru', 'ua' => 'https://util.bitrix.ua', 'en' => 'https://util.bitrixsoft.com', 'kz' => 'https://util.1c-bitrix.kz', 'by' => 'https://util.1c-bitrix.by',]; public const URL_BUS_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_bus.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_bus.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_bus.pdf', 'ua' => 'https://www.bitrix.ua/download/law/eula_bus.pdf',]; public const URL_CP_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_cp.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_cp.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_cp.pdf', 'en' => 'https://www.bitrix24.com/eula/', 'br' => 'https://www.bitrix24.com.br/eula/', 'fr' => 'https://www.bitrix24.fr/eula/', 'pl' => 'https://www.bitrix24.pl/eula/', 'it' => 'https://www.bitrix24.it/eula/', 'la' => 'https://www.bitrix24.es/eula/',]; public function getKey(): string{ if($this->_271680456 === null){ $_1515396478= Loader::getDocumentRoot(). ___1104456133(0); $LICENSE_KEY= ___1104456133(1); if($GLOBALS['____583153425'][0]($_1515396478)){ include($_1515396478);} $this->_271680456=($LICENSE_KEY == ___1104456133(2) || $GLOBALS['____583153425'][1]($LICENSE_KEY) == ___1104456133(3)? ___1104456133(4): $LICENSE_KEY);} return $this->_271680456;} public function getHashLicenseKey(): string{ return $GLOBALS['____583153425'][2]($this->getKey());} public function getPublicHashKey(): string{ return $GLOBALS['____583153425'][3](___1104456133(5). $this->getKey(). ___1104456133(6));} public function isDemoKey(): bool{ return $this->getKey() == ___1104456133(7);} public function getBuyLink(): string{ return $this->getDomainStoreLicense(). ___1104456133(8). $this->getHashLicenseKey(). ___1104456133(9). LANGUAGE_ID;} public function getDocumentationLink(): string{ $_1280262671= $this->getRegion(); if($GLOBALS['____583153425'][4]($_1280262671,[___1104456133(10), ___1104456133(11), ___1104456133(12)])){ return ___1104456133(13);} return ___1104456133(14);} public function getDomainStoreLicense(): string{ return self::DOMAINS_STORE_LICENSE[$this->getRegion()] ?? self::DOMAINS_STORE_LICENSE[___1104456133(15)];} public function isDemo(): bool{ return $GLOBALS['____583153425'][5](___1104456133(16)) && DEMO === ___1104456133(17);} public function isTimeBound(): bool{ return $GLOBALS['____583153425'][6](___1104456133(18)) && TIMELIMIT_EDITION === ___1104456133(19);} public function isEncoded(): bool{ return $GLOBALS['____583153425'][7](___1104456133(20)) && ENCODE === ___1104456133(21);} public function getExpireDate():?Date{ $_144135831= (int)$GLOBALS[___1104456133(22)]; if($_144135831>(796-2*398)){ return Date::createFromTimestamp($_144135831);} return null;} public function getRegion():?string{ if(Loader::includeModule(___1104456133(23))){ return \CBitrix24::getPortalZone();} $_1280262671= Option::get(___1104456133(24), ___1104456133(25)); if(!empty($_1280262671)){ return $_1280262671;} $_1280262671= $this->__847264496(); if(!empty($_1280262671)){ return $_1280262671;} return $this->__845884451();} public function getEulaLink(): string{ if(ModuleManager::isModuleInstalled(___1104456133(26))){ return self::URL_CP_EULA[$this->getRegion()] ?? self::URL_CP_EULA[___1104456133(27)];} return self::URL_BUS_EULA[$this->getRegion()] ?? self::URL_BUS_EULA[___1104456133(28)];} private function __847264496():?string{ $_1232485527= Option::get(___1104456133(29), ___1104456133(30)); if($_1232485527 === ___1104456133(31)){ return ___1104456133(32);} if($_1232485527 === ___1104456133(33)){ return ___1104456133(34);} if($_1232485527 === ___1104456133(35)){ return ___1104456133(36);} return null;} private function __845884451():?string{ $_1495612324= Application::getDocumentRoot(); if($GLOBALS['____583153425'][8]($_1495612324. ___1104456133(37))){ return ___1104456133(38);} if($GLOBALS['____583153425'][9]($_1495612324. ___1104456133(39))){ return ___1104456133(40);} if($GLOBALS['____583153425'][10]($_1495612324. ___1104456133(41))){ return ___1104456133(42);} if($GLOBALS['____583153425'][11]($_1495612324. ___1104456133(43))){ return ___1104456133(44);} return null;} public function getPartnerId(): int{ return (int)Option::get(___1104456133(45), ___1104456133(46), min(168,0,56));} public function getMaxUsers(): int{ return (int)Option::get(___1104456133(47), ___1104456133(48), min(108,0,36));} public function isExtraCountable(): bool{ return Option::get(___1104456133(49), ___1104456133(50), ___1104456133(51)) === ___1104456133(52) && ModuleManager::isModuleInstalled(___1104456133(53));} public function getActiveUsersCount(Date $_109193767= null){ $_304084911= Application::getConnection(); if($_109193767 !== null){  $_1362375319= ___1104456133(54).$_304084911->getSqlHelper()->convertToDbDate($_109193767);} else{  $_1362375319= ___1104456133(55);} $_2132228181=(972-2*486); if(ModuleManager::isModuleInstalled(___1104456133(56))){ $_1777740674= ___1104456133(57). $_1362375319. ___1104456133(58); $_2132228181= (int)$_304084911->queryScalar($_1777740674); if($this->isExtraCountable()){ $_1707054892= (int)Option::get(___1104456133(59), ___1104456133(60)); if($_1707054892> min(232,0,77.333333333333)){ $_1777740674= ___1104456133(61). $_1707054892. ___1104456133(62). $_1362375319. ___1104456133(63); $_2132228181 += (int)$_304084911->queryScalar($_1777740674);}}} return $_2132228181;}}?>